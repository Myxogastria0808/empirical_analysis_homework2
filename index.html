<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.515">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="長田悠生">

<title>実証分析入門</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="index_files/libs/quarto-dashboard/quarto-dashboard.js"></script>
<script src="index_files/libs/quarto-dashboard/stickythead.js"></script>
<script src="index_files/libs/quarto-dashboard/datatables.min.js" kdttablesentinel="true"></script>
<script src="index_files/libs/quarto-dashboard/pdfmake.min.js" kdttablesentinel="true"></script>
<script src="index_files/libs/quarto-dashboard/vfs_fonts.js" kdttablesentinel="true"></script>
<script src="index_files/libs/quarto-dashboard/web-components.js" type="module"></script>
<script src="index_files/libs/quarto-dashboard/components.js"></script>
<link href="index_files/libs/quarto-dashboard/datatables.min.css" rel="stylesheet" kdttablesentinel="true">
<script src="index_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="index_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="index_files/libs/datatables-binding-0.31/datatables.js"></script>
<script src="index_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="index_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="index_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="index_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="index_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="index_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="quarto-dashboard fullcontent">

<header id="quarto-dashboard-header">
<nav class="navbar navbar-expand-md slim" data-bs-theme="dark">
  <div class="navbar-container container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#dashboard-collapse" aria-controls="dashboard-collapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>    


    <div class="navbar-brand-container">       

      <div class="navbar-title">
        <div class="navbar-title-text"><a href="#">実証分析入門</a></div>
        
        <div class="navbar-author">長田悠生</div>
      </div>
    </div>
<div id="dashboard-collapse" class="navbar-collapse collapse"><ul class="navbar-nav navbar-nav-scroll me-auto" role="tablist"><li class="nav-item" role="presentation"><a id="tab-main" class="nav-link active" data-bs-toggle="tab" role="tab" data-bs-target="#main" data-scrolling="true" href="#main" aria-controls="main" aria-selected="true"><span class="nav-link-text">Main</span></a></li><li class="nav-item" role="presentation"><a id="tab-検証1" class="nav-link" data-bs-toggle="tab" role="tab" data-bs-target="#検証1" data-scrolling="true" href="#検証1" aria-controls="検証1" aria-selected="false"><span class="nav-link-text">検証1</span></a></li><li class="nav-item" role="presentation"><a id="tab-検証2" class="nav-link" data-bs-toggle="tab" role="tab" data-bs-target="#検証2" data-scrolling="true" href="#検証2" aria-controls="検証2" aria-selected="false"><span class="nav-link-text">検証2</span></a></li></ul><div class="quarto-dashboard-links"><a class="quarto-dashboard-link" href="https://github.com/Myxogastria0808/quarto_dashboards_demo"><i class="bi bi-github"></i></a></div></div></div>
</nav>
</header>
<div class="page-layout-custom quarto-dashboard-content bslib-gap-spacing html-fill-container dashboard-scrolling quarto-dashboard-pages">  

<div class="bslib-grid-item html-fill-item tab-content bslib-grid" data-layout="flow" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div id="main" class="dashboard-page tab-pane show active html-fill-item html-fill-container" data-orientation="rows" aria-labelledby="tab-main">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="card html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<p><link href="./style.css" rel="stylesheet"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous"></p>
<h3>
「東日本大震災が原因でコンビニ数が増加する」という主張は正しいかどうかを検証する。
</h3>
<p class="alert alert-info">
このサイトの内容は、統計を学習し始めて間もない学生の書いたものであるので、間違っている可能性があります。ご了承ください。
</p>
<p>
東日本大震災をきっかけにコンビニ数が急増したという主張をしているサイトがありました。 しかし、このサイトが根拠としていたのは、以下のようなものでした。
</p>
<p>
以下、引用文<sup>(*)</sup>
</p>
<p class="quote">
全国のコンビニの数は、2011年から2014年まで、毎年2000店を超えるペースで増加しました。震災前の2010年から2011年の増加数は1031店だったので、2011年以降の3年間は、震災前の2倍以上のペースで増えたことになります。
</p>
<p>
しかし、東日本大震災以外にもコンビニが増加した要因があるかもしれない。今回は、「東日本大震災が原因でコンビニ数が増加する」という主張が正しいのかどうかをできる限り調べてみることにしました。
</p>
<p>
その他のいろいろな可能性として、以下のものを考えました。
</p>
<strong>その他のいろいろな可能性</strong>
<ol type="1">
<li>2011年以降の3年間のコンビニの増加率は特筆すべき増加率ではなく、例年通りの増加率であった（2010~2011年にかけての増加数が例年に比べて少なかった）。</li>
<li>2011以降のどこかの地域（都道府県）又は全国で、人口が増加し、それに伴ってコンビニ数が増加した。</li>
</ol>
<p>
従って、以下の検証を行うことにしました。
</p>
<a href="#検証1" class="link-title">
<h4>
検証1
</h4>
</a>
<p>
2011年以降の3年間のコンビニの増加率は特筆すべき増加率ではなく、例年通りの増加率であった（2010~2011年にかけての増加数が例年に比べて少なかった）。
</p>
<a href="#検証2" class="link-title">
<h4>
検証2
</h4>
</a>
<p>
2011以降のどこかの地域（都道府県）又は全国で、人口が増加し、それに伴ってコンビニ数が増加した。
</p>
<style>
    .quote {
        background-color: rgb(230, 230, 230);
        border-radius: 5px 5px 5px 5px;
        padding: 10px;
    }
    .link-title {
        color: rgb(0, 176, 183);
        font-weight: 600;
    }
</style>
</div>
<div class="card-footer">
<p>(*) <span class="math inline">\(\cdots\)</span> https://www3.nhk.or.jp/news/special/sakusakukeizai/20210311/390/</p>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div>
<div id="検証1" class="dashboard-page tab-pane grid-skip html-fill-item html-fill-container" data-orientation="rows" aria-labelledby="tab-検証1">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: 420px minmax(3em, 1fr) minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<h3 class="font-weight-bold">
検証1
</h3>
<strong>仮定: 2011年以降の3年間のコンビニの増加率は特筆すべき増加率ではなく、例年通りの増加率であった（2010~2011年にかけての増加数が例年に比べて少なかった）。</strong>
<p><br> <br></p>
<div class="h4">
検証方法
</div>
<ol type="1">
<li>全国のコンビニの店舗数のデータ（1983~2020年分）を用意する。</li>
<li>各年の前年に対する増加率を計算する。 <span class="math display">\[
その年のコンビニの店舗数の増加率 = \frac{その年のコンビニの店舗数 - 前年のコンビニの店舗数}{前年のコンビニの店舗数}
\]</span></li>
<li>棒グラフで計算結果を確認する。</li>
</ol>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
<div class="card tabset html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-header dashboard-card-no-title bslib-navs-card-title">

<ul class="nav nav-tabs card-header-tabs" role="tablist" data-tabsetid="card-tabset-3"><li class="nav-item" role="presentation"><a href="#card-tabset-3-1" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="全国のコンビニエンスストアの店舗数の推移" aria-selected="true" class="nav-link active">全国のコンビニエンスストアの店舗数の推移</a></li><li class="nav-item" role="presentation"><a href="#card-tabset-3-2" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="日本のコンビニエンスストアの増加率 (前年比)" aria-selected="false" class="nav-link">日本のコンビニエンスストアの増加率 (前年比)</a></li></ul></div>


<div class="tab-content html-fill-item html-fill-container" data-tabset-id="card-tabset-3"><div class="tab-pane active show html-fill-item html-fill-container" role="tabpanel" id="card-tabset-3-1"><div class="card-body html-fill-item html-fill-container" data-title="全国のコンビニエンスストアの店舗数の推移">
<div class="cell-output-display html-fill-item html-fill-container">
<img src="index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid quarto-dashboard-img-contain">
</div>
</div></div><div class="tab-pane html-fill-item html-fill-container" role="tabpanel" id="card-tabset-3-2"><div class="card-body html-fill-item html-fill-container" data-title="日本のコンビニエンスストアの増加率 (前年比)">
<div class="cell-output-display html-fill-item html-fill-container">
<img src="index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid quarto-dashboard-img-contain">
</div>
</div></div></div><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card html-fill-item html-fill-container bslib-card" data-title="使用したデータ" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-header"><div class="card-title">使用したデータ</div></div>
<div class="cell card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="datatables html-widget html-fill-item html-fill-container" id="htmlwidget-58a57aa53ba795e5c0d0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-58a57aa53ba795e5c0d0">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38"],[1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],[6308,6349,7419,9569,7060,11617,16466,17408,19107,21514,22852,26522,29144,31415,33940,36265,37562,38274,39809,40644,41114,41340,42643,43087,43228,44391,45006,45739,47593,50206,52902,55774,57052,57818,57956,58340,57966,57999],[0,0.006499682942295497,0.1685304772405103,0.2897964685267556,-0.2622008569338489,0.6454674220963172,0.4174055263837479,0.05720879387829467,0.09759880514705882,0.1259747736431674,0.0621920609835456,0.1605986346928059,0.09886132267551467,0.07792341476804832,0.08037561674359382,0.06850324101355333,0.03576451123672963,0.01895532719237527,0.04010555468464232,0.02097515637167475,0.01156382245841945,0.005496911027873717,0.03151910982099661,0.01041202542035035,0.003272448766449277,0.02690385861016008,0.01385415962695141,0.01628671732657868,0.04053433612453267,0.05490303195848129,0.05369876110425049,0.05428906279535745,0.02291390253523147,0.01342634789315011,0.002386799958490436,0.006625716060459659,-0.006410695920466233,0.0005692992443846393]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>number_of_stores<\/th>\n      <th>YoY<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"bPaginate":false,"dom":"ifrt","language":{"info":"Showing _TOTAL_ entries"},"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"year","targets":1},{"name":"number_of_stores","targets":2},{"name":"YoY","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="card-footer">
<div class="line-block html-fill-item html-fill-container">データ引用元(一部、元データに追加しているデータがあります。): https://honkawa2.sakura.ne.jp/5616.html</div>
<p>注) 国内のフランチャイズチェーン本部を対象とした年1回の調査(5~6月)による。店舗数は各チェーンの加盟店・直営店数(国内)の合計 (https://honkawa2.sakura.ne.jp/5616.htmlより引用)</p>
<p>資料: 日本フランチャイズチェーン協会「JFA フランチャイズチェーン統計調査」(https://honkawa2.sakura.ne.jp/5616.htmlより引用)</p>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div>
</div>
<div id="検証2" class="dashboard-page tab-pane grid-skip html-fill-item html-fill-container" data-orientation="rows" aria-labelledby="tab-検証2">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: 390px minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-body html-fill-item html-fill-container">
<h3 class="font-weight-bold">
検証2
</h3>
<strong>仮定: 2011以降のどこかの地域（都道府県）又は全国で、人口が増加し、それに伴ってコンビニ数が増加した。</strong>
<p><br> <br></p>
<div class="h4">
検証方法
</div>
<ol type="1">
<li>各都道府県のコンビニの店舗数と人口のデータ（2012~2018年分）を用意する。</li>
<li>各都道府県の人口1万人当たりのコンビニの店舗数を調査する。 <span class="math display">\[
その年の各都道府県の人口1万人当たりのコンビニの店舗数 = \frac{その年の各都道府県のコンビニの店舗数}{その年の各都道府県の人口} \times 10000
\]</span></li>
<li>計算結果を確認する。</li>
</ol>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card html-fill-item html-fill-container bslib-card" data-title="使用したデータ" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-header"><div class="card-title">使用したデータ</div></div>
<div class="cell card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="datatables html-widget html-fill-item html-fill-container" id="htmlwidget-3ed36a151aa3fb190093" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3ed36a151aa3fb190093">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329"],[2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012],["北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県","北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県","北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県","北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県","北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県","北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県","北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県"],[2981,593,554,1187,479,453,878,1462,933,976,3054,2868,7793,4059,850,513,521,346,462,953,901,1743,3775,824,565,1099,4045,2073,470,366,250,280,775,1195,560,334,419,591,286,2327,373,520,764,496,423,666,549,2917,585,543,1173,476,453,849,1449,943,988,3042,2871,7583,3922,947,517,543,353,461,952,921,1774,3817,824,563,1096,3987,2068,459,363,235,275,768,1173,562,339,427,591,282,2273,368,500,733,481,410,657,529,2881,555,530,1152,463,431,816,1425,920,971,2933,2768,7514,3883,937,516,551,352,449,954,916,1743,3755,817,554,1070,3849,1977,447,348,228,261,746,1135,543,342,432,586,266,2185,357,476,668,459,398,622,543,2869,519,523,1153,459,460,819,1431,889,945,2869,2704,7373,3829,926,504,541,349,432,946,914,1701,3703,777,549,1035,3765,1888,431,328,219,247,740,1096,518,333,408,545,242,2115,345,459,642,430,385,622,531,2820,507,497,1113,430,437,785,1391,858,917,2753,2584,7200,3695,883,484,509,331,413,916,871,1627,3526,726,506,948,3571,1793,374,298,220,243,704,1043,493,310,381,488,232,1996,334,432,605,422,369,602,503,1705,474,465,1017,379,368,706,1078,734,671,2355,2197,6331,3150,722,439,472,308,384,805,772,1527,3184,641,497,937,3277,1671,367,281,147,160,629,872,428,245,304,444,160,1798,309,392,545,361,331,526,374,2664,461,464,1003,346,398,717,1278,778,814,2463,2309,6523,3407,819,445,430,295,368,798,755,1448,3074,621,486,898,3143,1601,353,265,193,212,623,959,440,256,310,439,214,1770,301,387,555,366,322,467,462],[5293000,1268000,1240000,2320000,985000,1092000,1869000,2892000,1953000,1957000,7325000,6273000,13887000,9197000,2246000,1050000,1145000,777000,821000,2073000,2001000,3667000,7541000,1793000,1414000,2598000,8838000,5501000,1341000,940000,562000,682000,1904000,2824000,1369000,736000,963000,1357000,707000,5131000,821000,1341000,1759000,1143000,1084000,1614000,1454000,5325000,1282000,1254000,2326000,999000,1103000,1886000,2902000,1962000,1963000,7307000,6258000,13768000,9173000,2267000,1056000,1148000,780000,826000,2082000,2012000,3681000,7528000,1801000,1414000,2604000,8841000,5515000,1349000,948000,566000,687000,1911000,2833000,1382000,744000,968000,1368000,714000,5123000,825000,1355000,1767000,1152000,1091000,1626000,1448000,5355000,1295000,1268000,2332000,1011000,1114000,1903000,2910000,1969000,1969000,7288000,6242000,13646000,9152000,2286000,1061000,1151000,783000,831000,2091000,2024000,3690000,7509000,1809000,1414000,2608000,8841000,5526000,1357000,956000,570000,691000,1917000,2840000,1394000,750000,973000,1377000,721000,5113000,829000,1367000,1775000,1160000,1097000,1637000,1442000,5381733,1308265,1279594,2333899,1023119,1123891,1914039,2916976,1974255,1973115,7266534,6222666,13515271,9126214,2304264,1066328,1154008,786740,834930,2098804,2031903,3700305,7483128,1815865,1412916,2610353,8839469,5534800,1364316,963579,573441,694352,1921525,2843990,1404729,755733,976263,1385262,728276,5101556,832832,1377187,1786170,1166338,1104069,1648177,1433566,5410000,1323000,1290000,2335000,1037000,1134000,1927000,2927000,1980000,1979000,7247000,6209000,13399000,9103000,2320000,1072000,1157000,791000,841000,2110000,2043000,3715000,7464000,1826000,1414000,2616000,8845000,5550000,1373000,972000,577000,699000,1926000,2846000,1415000,763000,980000,1396000,736000,5099000,837000,1387000,1795000,1173000,1112000,1662000,1426000,5438000,1337000,1299000,2333000,1050000,1144000,1940000,2937000,1986000,1986000,7228000,6201000,13307000,9084000,2336000,1077000,1160000,796000,847000,2122000,2053000,3730000,7449000,1833000,1415000,2622000,8856000,5565000,1381000,980000,580000,704000,1932000,2850000,1425000,769000,985000,1406000,743000,5096000,841000,1397000,1801000,1180000,1119000,1675000,1419000,5465000,1350000,1306000,2329000,1063000,1153000,1957000,2947000,1992000,1994000,7216000,6200000,13234000,9070000,2350000,1083000,1164000,800000,852000,2132000,2062000,3739000,7431000,1841000,1414000,2628000,8861000,5575000,1388000,988000,583000,708000,1937000,2855000,1434000,775000,989000,1415000,751000,5089000,845000,1408000,1807000,1186000,1125000,1687000,1411000],[5.631966748535802,4.676656151419558,4.467741935483871,5.116379310344828,4.862944162436548,4.148351648351649,4.697699304440878,5.055325034578146,4.77726574500768,4.987225344915687,4.169283276450511,4.571975131516021,5.611723194354433,4.413395672501903,3.784505788067676,4.885714285714286,4.550218340611353,4.453024453024454,5.627283800243606,4.597202122527738,4.502748625687157,4.753204254158713,5.005967378331786,4.595649749023982,3.995756718528996,4.230177059276366,4.576827336501471,3.768405744410107,3.504847129008203,3.893617021276596,4.448398576512456,4.105571847507331,4.070378151260504,4.231586402266289,4.090577063550037,4.53804347826087,4.350986500519211,4.355195283714075,4.045261669024045,4.535178327811343,4.543239951278928,3.877703206562267,4.343376918703809,4.339457567804025,3.902214022140221,4.12639405204461,3.775790921595598,5.47793427230047,4.563182527301092,4.330143540669856,5.04299226139295,4.764764764764765,4.106980961015412,4.501590668080594,4.993108201240524,4.80632008154944,5.033112582781457,4.16313124401259,4.587727708533078,5.507699012202209,4.275591409571568,4.177326863696515,4.895833333333333,4.729965156794425,4.525641025641026,5.581113801452784,4.57252641690682,4.577534791252485,4.819342569953816,5.070403825717322,4.575235980011104,3.981612446958982,4.208909370199692,4.509670851713607,3.749773345421577,3.402520385470719,3.829113924050633,4.151943462897527,4.002911208151382,4.018838304552591,4.14048711613131,4.06657018813314,4.556451612903226,4.411157024793389,4.320175438596491,3.949579831932773,4.436853406207301,4.460606060606061,3.690036900369003,4.148273910582909,4.175347222222222,3.758020164986251,4.040590405904059,3.653314917127072,5.380018674136321,4.285714285714286,4.17981072555205,4.939965694682676,4.579624134520277,3.868940754039497,4.287966368891224,4.896907216494845,4.672422549517522,4.931437277805992,4.024423710208562,4.434476129445691,5.506375494650447,4.242788461538462,4.098862642169729,4.863336475023563,4.7871416159861,4.495530012771392,5.403128760529482,4.562410329985653,4.525691699604743,4.723577235772358,5.000665867625516,4.516307352128248,3.917963224893918,4.102760736196319,4.353579911774686,3.577633007600434,3.294030950626382,3.640167364016736,4,3.777134587554269,3.891497130933751,3.996478873239437,3.895265423242468,4.56,4.439876670092498,4.255628177196805,3.689320388349515,4.273420692352826,4.306393244873342,3.482077542062911,3.763380281690141,3.956896551724138,3.628076572470374,3.799633475870495,3.765603328710125,5.3309965395905,3.967086179023363,4.087233919508844,4.94023091830452,4.486281654431205,4.092923602021904,4.278909677389018,4.905765422821442,4.50296440935948,4.789381257554679,3.948237220110716,4.345404365267235,5.455310515046277,4.195606195515468,4.018636753427558,4.726500663960808,4.688009095257572,4.43602715001144,5.174086450361108,4.50732893590826,4.498246225336544,4.596918362135013,4.948465401099647,4.278952455165995,3.885581308442965,3.964980981499437,4.259305621186069,3.41114403411144,3.159092175126583,3.403976217829571,3.819050259747734,3.557273544254211,3.851107844030132,3.853740695290771,3.687544003149362,4.406318104409891,4.179201711014348,3.934273805244062,3.322916037326508,4.145793949924298,4.142492123261354,3.332880719902236,3.594282739044996,3.686752896673177,3.487100896773662,3.773866520404058,3.704049900737043,5.212569316081331,3.832199546485261,3.852713178294574,4.76659528907923,4.146576663452266,3.853615520282187,4.073689673066943,4.752306115476597,4.333333333333333,4.633653360282971,3.798813302056023,4.161700756965695,5.373535338458094,4.059101395144458,3.806034482758621,4.514925373134329,4.399308556611928,4.184576485461441,4.910820451843044,4.341232227488152,4.263338228095937,4.379542395693136,4.724008574490889,3.975903614457831,3.578500707213578,3.623853211009175,4.037309214245336,3.230630630630631,2.723962126729789,3.065843621399177,3.812824956672444,3.476394849785408,3.655244029075805,3.664792691496838,3.484098939929329,4.062909567496724,3.887755102040816,3.495702005730659,3.152173913043478,3.914493037850559,3.990442054958184,3.11463590483057,3.370473537604457,3.597612958226769,3.318345323741007,3.622141997593261,3.527349228611501,3.135343876425156,3.545250560957367,3.579676674364896,4.359194170595799,3.60952380952381,3.216783216783217,3.639175257731959,3.670411985018727,3.695871097683786,3.37865055387714,3.258162700608743,3.542976939203354,4.757646351544301,3.467635402906209,3.090753424657534,4.076137418755803,4.068965517241379,3.869346733668341,4.533648170011806,3.793590951932139,3.760350706283488,4.093833780160858,4.274399248221238,3.496999454446263,3.512367491166078,3.573607932875667,3.700316169828365,3.002695417789757,2.657494569152788,2.86734693877551,2.53448275862069,2.272727272727273,3.255693581780538,3.059649122807018,3.003508771929824,3.185955786736021,3.086294416243655,3.157894736842105,2.153432032301481,3.528257456828886,3.674197384066587,2.806012884753042,3.026096612992782,3.059322033898305,2.957998212689902,3.140298507462687,2.635658914728682,4.874656907593779,3.414814814814815,3.552833078101072,4.306569343065694,3.254938852304798,3.451864700780572,3.663771078180889,4.336613505259586,3.90562248995984,4.082246740220662,3.413248337028825,3.724193548387097,4.928970832703642,3.756339581036384,3.485106382978723,4.108956602031395,3.694158075601375,3.6875,4.31924882629108,3.74296435272045,3.661493695441319,3.872693233484889,4.136724532364419,3.373166757197176,3.437057991513437,3.417047184170472,3.547003724184629,2.871748878923766,2.543227665706052,2.682186234817814,3.310463121783877,2.994350282485876,3.216313887454827,3.359019264448336,3.068340306834031,3.303225806451612,3.134479271991911,3.102473498233215,2.84953395472703,3.478089998034978,3.562130177514793,2.748579545454545,3.071389042612064,3.086003372681282,2.862222222222222,2.768227622999407,3.274273564847626]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>prefecture<\/th>\n      <th>number_of_stores<\/th>\n      <th>population<\/th>\n      <th>per_10000_population<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"bPaginate":false,"dom":"ifrt","language":{"info":"Showing _TOTAL_ entries"},"columnDefs":[{"className":"dt-right","targets":[1,3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"year","targets":1},{"name":"prefecture","targets":2},{"name":"number_of_stores","targets":3},{"name":"population","targets":4},{"name":"per_10000_population","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="card-footer">
<div class="line-block html-fill-item html-fill-container">各都道府県の人口のデータの引用元: https://www.e-stat.go.jp/regional-statistics/ssdsview/prefectures を加工して作成</div>
<div class="line-block html-fill-item html-fill-container">出典: 政府統計の総合窓口(e-Stat)（https://www.e-stat.go.jp/）</div>
<div class="line-block html-fill-item html-fill-container">各都道府県のコンビニの店舗数のデータの情報元 :https://uub.jp/pdr/m/cp.html</div>
<div class="line-block html-fill-item html-fill-container">各都道府県のコンビニの店舗数のデータの出展1: 月刊コンビニ「2018年5月号、2017年5月号、2016年5月号」株式会社アール・アイ・シー (https://uub.jp/pdr/m/cp.htmlより引用)</div>
<div class="line-block html-fill-item html-fill-container">各都道府県のコンビニの店舗数のデータの出展2: 月刊コンビニ「2015年5月号、2014年5月号、2013年5月号、2012年5月号」商業界 (https://uub.jp/pdr/m/cp.htmlより引用)</div>
<div class="line-block html-fill-item html-fill-container">注) スリーエフ直営の3店舗（goozブランドの埼玉県1店と神奈川県2店）は、2018年の集計から除外。 (https://uub.jp/pdr/m/cp.htmlより引用)</div>
<div class="line-block html-fill-item html-fill-container">注) 2016年3月末のココストアの店舗数は非公表のため、2016年2月末の店舗数を掲載。 (https://uub.jp/pdr/m/cp.htmlより引用)</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div><div id="3ade8a4a-fb1d-4a6c-8409-ac45482d5fc9" class="hidden html-fill-item html-fill-container">

</div>
</div>
</div>
</div>
</div>


<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /container fluid -->

<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (_event) {
  if (window.bslib.Card) {
    window.bslib.Card.initializeAllCards();
  }
}); 
</script>
  



</body></html>